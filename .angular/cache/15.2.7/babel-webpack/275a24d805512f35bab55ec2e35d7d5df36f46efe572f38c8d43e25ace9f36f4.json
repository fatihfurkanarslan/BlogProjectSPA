{"ast":null,"code":"/*!\n * Image tool\n * \n * @version 2.8.1\n * \n * @package https://github.com/editor-js/image\n * @licence MIT\n * @author CodeX <https://codex.so>\n */\n!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof exports ? exports.ImageTool = t() : e.ImageTool = t();\n}(window, function () {\n  return function (e) {\n    var t = {};\n    function n(r) {\n      if (t[r]) return t[r].exports;\n      var o = t[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\n    }\n    return n.m = e, n.c = t, n.d = function (e, t, r) {\n      n.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: r\n      });\n    }, n.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (e, t) {\n      if (1 & t && (e = n(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var r = Object.create(null);\n      if (n.r(r), Object.defineProperty(r, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var o in e) n.d(r, o, function (t) {\n        return e[t];\n      }.bind(null, o));\n      return r;\n    }, n.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return n.d(t, \"a\", t), t;\n    }, n.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, n.p = \"/\", n(n.s = 9);\n  }([function (e, t) {\n    function n(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n    e.exports = function (e, t, r) {\n      return t && n(e.prototype, t), r && n(e, r), e;\n    };\n  }, function (e, t, n) {\n    window, e.exports = function (e) {\n      var t = {};\n      function n(r) {\n        if (t[r]) return t[r].exports;\n        var o = t[r] = {\n          i: r,\n          l: !1,\n          exports: {}\n        };\n        return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\n      }\n      return n.m = e, n.c = t, n.d = function (e, t, r) {\n        n.o(e, t) || Object.defineProperty(e, t, {\n          enumerable: !0,\n          get: r\n        });\n      }, n.r = function (e) {\n        \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n          value: \"Module\"\n        }), Object.defineProperty(e, \"__esModule\", {\n          value: !0\n        });\n      }, n.t = function (e, t) {\n        if (1 & t && (e = n(e)), 8 & t) return e;\n        if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n        var r = Object.create(null);\n        if (n.r(r), Object.defineProperty(r, \"default\", {\n          enumerable: !0,\n          value: e\n        }), 2 & t && \"string\" != typeof e) for (var o in e) n.d(r, o, function (t) {\n          return e[t];\n        }.bind(null, o));\n        return r;\n      }, n.n = function (e) {\n        var t = e && e.__esModule ? function () {\n          return e.default;\n        } : function () {\n          return e;\n        };\n        return n.d(t, \"a\", t), t;\n      }, n.o = function (e, t) {\n        return Object.prototype.hasOwnProperty.call(e, t);\n      }, n.p = \"\", n(n.s = 3);\n    }([function (e, t) {\n      var n;\n      n = function () {\n        return this;\n      }();\n      try {\n        n = n || new Function(\"return this\")();\n      } catch (e) {\n        \"object\" == typeof window && (n = window);\n      }\n      e.exports = n;\n    }, function (e, t, n) {\n      \"use strict\";\n\n      (function (e) {\n        var r = n(2),\n          o = setTimeout;\n        function i() {}\n        function a(e) {\n          if (!(this instanceof a)) throw new TypeError(\"Promises must be constructed via new\");\n          if (\"function\" != typeof e) throw new TypeError(\"not a function\");\n          this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], f(e, this);\n        }\n        function u(e, t) {\n          for (; 3 === e._state;) e = e._value;\n          0 !== e._state ? (e._handled = !0, a._immediateFn(function () {\n            var n = 1 === e._state ? t.onFulfilled : t.onRejected;\n            if (null !== n) {\n              var r;\n              try {\n                r = n(e._value);\n              } catch (e) {\n                return void s(t.promise, e);\n              }\n              c(t.promise, r);\n            } else (1 === e._state ? c : s)(t.promise, e._value);\n          })) : e._deferreds.push(t);\n        }\n        function c(e, t) {\n          try {\n            if (t === e) throw new TypeError(\"A promise cannot be resolved with itself.\");\n            if (t && (\"object\" == typeof t || \"function\" == typeof t)) {\n              var n = t.then;\n              if (t instanceof a) return e._state = 3, e._value = t, void l(e);\n              if (\"function\" == typeof n) return void f((r = n, o = t, function () {\n                r.apply(o, arguments);\n              }), e);\n            }\n            e._state = 1, e._value = t, l(e);\n          } catch (t) {\n            s(e, t);\n          }\n          var r, o;\n        }\n        function s(e, t) {\n          e._state = 2, e._value = t, l(e);\n        }\n        function l(e) {\n          2 === e._state && 0 === e._deferreds.length && a._immediateFn(function () {\n            e._handled || a._unhandledRejectionFn(e._value);\n          });\n          for (var t = 0, n = e._deferreds.length; t < n; t++) u(e, e._deferreds[t]);\n          e._deferreds = null;\n        }\n        function d(e, t, n) {\n          this.onFulfilled = \"function\" == typeof e ? e : null, this.onRejected = \"function\" == typeof t ? t : null, this.promise = n;\n        }\n        function f(e, t) {\n          var n = !1;\n          try {\n            e(function (e) {\n              n || (n = !0, c(t, e));\n            }, function (e) {\n              n || (n = !0, s(t, e));\n            });\n          } catch (e) {\n            if (n) return;\n            n = !0, s(t, e);\n          }\n        }\n        a.prototype.catch = function (e) {\n          return this.then(null, e);\n        }, a.prototype.then = function (e, t) {\n          var n = new this.constructor(i);\n          return u(this, new d(e, t, n)), n;\n        }, a.prototype.finally = r.a, a.all = function (e) {\n          return new a(function (t, n) {\n            if (!e || void 0 === e.length) throw new TypeError(\"Promise.all accepts an array\");\n            var r = Array.prototype.slice.call(e);\n            if (0 === r.length) return t([]);\n            var o = r.length;\n            function i(e, a) {\n              try {\n                if (a && (\"object\" == typeof a || \"function\" == typeof a)) {\n                  var u = a.then;\n                  if (\"function\" == typeof u) return void u.call(a, function (t) {\n                    i(e, t);\n                  }, n);\n                }\n                r[e] = a, 0 == --o && t(r);\n              } catch (e) {\n                n(e);\n              }\n            }\n            for (var a = 0; a < r.length; a++) i(a, r[a]);\n          });\n        }, a.resolve = function (e) {\n          return e && \"object\" == typeof e && e.constructor === a ? e : new a(function (t) {\n            t(e);\n          });\n        }, a.reject = function (e) {\n          return new a(function (t, n) {\n            n(e);\n          });\n        }, a.race = function (e) {\n          return new a(function (t, n) {\n            for (var r = 0, o = e.length; r < o; r++) e[r].then(t, n);\n          });\n        }, a._immediateFn = \"function\" == typeof e && function (t) {\n          e(t);\n        } || function (e) {\n          o(e, 0);\n        }, a._unhandledRejectionFn = function (e) {\n          \"undefined\" != typeof console && console && console.warn(\"Possible Unhandled Promise Rejection:\", e);\n        }, t.a = a;\n      }).call(this, n(5).setImmediate);\n    }, function (e, t, n) {\n      \"use strict\";\n\n      t.a = function (e) {\n        var t = this.constructor;\n        return this.then(function (n) {\n          return t.resolve(e()).then(function () {\n            return n;\n          });\n        }, function (n) {\n          return t.resolve(e()).then(function () {\n            return t.reject(n);\n          });\n        });\n      };\n    }, function (e, t, n) {\n      \"use strict\";\n\n      function r(e) {\n        return (r = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(e);\n      }\n      n(4);\n      var o,\n        i,\n        a,\n        u,\n        c,\n        s,\n        l,\n        d = n(8),\n        f = (i = function (e) {\n          return new Promise(function (t, n) {\n            e = u(e), (e = c(e)).beforeSend && e.beforeSend();\n            var r = window.XMLHttpRequest ? new window.XMLHttpRequest() : new window.ActiveXObject(\"Microsoft.XMLHTTP\");\n            r.open(e.method, e.url), r.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\"), Object.keys(e.headers).forEach(function (t) {\n              var n = e.headers[t];\n              r.setRequestHeader(t, n);\n            });\n            var o = e.ratio;\n            r.upload.addEventListener(\"progress\", function (t) {\n              var n = Math.round(t.loaded / t.total * 100),\n                r = Math.ceil(n * o / 100);\n              e.progress(Math.min(r, 100));\n            }, !1), r.addEventListener(\"progress\", function (t) {\n              var n = Math.round(t.loaded / t.total * 100),\n                r = Math.ceil(n * (100 - o) / 100) + o;\n              e.progress(Math.min(r, 100));\n            }, !1), r.onreadystatechange = function () {\n              if (4 === r.readyState) {\n                var e = r.response;\n                try {\n                  e = JSON.parse(e);\n                } catch (e) {}\n                var o = d.parseHeaders(r.getAllResponseHeaders()),\n                  i = {\n                    body: e,\n                    code: r.status,\n                    headers: o\n                  };\n                l(r.status) ? t(i) : n(i);\n              }\n            }, r.send(e.data);\n          });\n        }, a = function (e) {\n          return e.method = \"POST\", i(e);\n        }, u = function () {\n          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n          if (e.url && \"string\" != typeof e.url) throw new Error(\"Url must be a string\");\n          if (e.url = e.url || \"\", e.method && \"string\" != typeof e.method) throw new Error(\"`method` must be a string or null\");\n          if (e.method = e.method ? e.method.toUpperCase() : \"GET\", e.headers && \"object\" !== r(e.headers)) throw new Error(\"`headers` must be an object or null\");\n          if (e.headers = e.headers || {}, e.type && (\"string\" != typeof e.type || !Object.values(o).includes(e.type))) throw new Error(\"`type` must be taken from module's «contentType» library\");\n          if (e.progress && \"function\" != typeof e.progress) throw new Error(\"`progress` must be a function or null\");\n          if (e.progress = e.progress || function (e) {}, e.beforeSend = e.beforeSend || function (e) {}, e.ratio && \"number\" != typeof e.ratio) throw new Error(\"`ratio` must be a number\");\n          if (e.ratio < 0 || e.ratio > 100) throw new Error(\"`ratio` must be in a 0-100 interval\");\n          if (e.ratio = e.ratio || 90, e.accept && \"string\" != typeof e.accept) throw new Error(\"`accept` must be a string with a list of allowed mime-types\");\n          if (e.accept = e.accept || \"*/*\", e.multiple && \"boolean\" != typeof e.multiple) throw new Error(\"`multiple` must be a true or false\");\n          if (e.multiple = e.multiple || !1, e.fieldName && \"string\" != typeof e.fieldName) throw new Error(\"`fieldName` must be a string\");\n          return e.fieldName = e.fieldName || \"files\", e;\n        }, c = function (e) {\n          switch (e.method) {\n            case \"GET\":\n              var t = s(e.data, o.URLENCODED);\n              delete e.data, e.url = /\\?/.test(e.url) ? e.url + \"&\" + t : e.url + \"?\" + t;\n              break;\n            case \"POST\":\n            case \"PUT\":\n            case \"DELETE\":\n            case \"UPDATE\":\n              var n = function () {\n                return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).type || o.JSON;\n              }(e);\n              (d.isFormData(e.data) || d.isFormElement(e.data)) && (n = o.FORM), e.data = s(e.data, n), n !== f.contentType.FORM && (e.headers[\"content-type\"] = n);\n          }\n          return e;\n        }, s = function () {\n          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n          switch (arguments.length > 1 ? arguments[1] : void 0) {\n            case o.URLENCODED:\n              return d.urlEncode(e);\n            case o.JSON:\n              return d.jsonEncode(e);\n            case o.FORM:\n              return d.formEncode(e);\n            default:\n              return e;\n          }\n        }, l = function (e) {\n          return e >= 200 && e < 300;\n        }, {\n          contentType: o = {\n            URLENCODED: \"application/x-www-form-urlencoded; charset=utf-8\",\n            FORM: \"multipart/form-data\",\n            JSON: \"application/json; charset=utf-8\"\n          },\n          request: i,\n          get: function (e) {\n            return e.method = \"GET\", i(e);\n          },\n          post: a,\n          transport: function (e) {\n            return e = u(e), d.selectFiles(e).then(function (t) {\n              for (var n = new FormData(), r = 0; r < t.length; r++) n.append(e.fieldName, t[r], t[r].name);\n              d.isObject(e.data) && Object.keys(e.data).forEach(function (t) {\n                var r = e.data[t];\n                n.append(t, r);\n              });\n              var o = e.beforeSend;\n              return e.beforeSend = function () {\n                return o(t);\n              }, e.data = n, a(e);\n            });\n          },\n          selectFiles: function (e) {\n            return delete (e = u(e)).beforeSend, d.selectFiles(e);\n          }\n        });\n      e.exports = f;\n    }, function (e, t, n) {\n      \"use strict\";\n\n      n.r(t);\n      var r = n(1);\n      window.Promise = window.Promise || r.a;\n    }, function (e, t, n) {\n      (function (e) {\n        var r = void 0 !== e && e || \"undefined\" != typeof self && self || window,\n          o = Function.prototype.apply;\n        function i(e, t) {\n          this._id = e, this._clearFn = t;\n        }\n        t.setTimeout = function () {\n          return new i(o.call(setTimeout, r, arguments), clearTimeout);\n        }, t.setInterval = function () {\n          return new i(o.call(setInterval, r, arguments), clearInterval);\n        }, t.clearTimeout = t.clearInterval = function (e) {\n          e && e.close();\n        }, i.prototype.unref = i.prototype.ref = function () {}, i.prototype.close = function () {\n          this._clearFn.call(r, this._id);\n        }, t.enroll = function (e, t) {\n          clearTimeout(e._idleTimeoutId), e._idleTimeout = t;\n        }, t.unenroll = function (e) {\n          clearTimeout(e._idleTimeoutId), e._idleTimeout = -1;\n        }, t._unrefActive = t.active = function (e) {\n          clearTimeout(e._idleTimeoutId);\n          var t = e._idleTimeout;\n          t >= 0 && (e._idleTimeoutId = setTimeout(function () {\n            e._onTimeout && e._onTimeout();\n          }, t));\n        }, n(6), t.setImmediate = \"undefined\" != typeof self && self.setImmediate || void 0 !== e && e.setImmediate || this && this.setImmediate, t.clearImmediate = \"undefined\" != typeof self && self.clearImmediate || void 0 !== e && e.clearImmediate || this && this.clearImmediate;\n      }).call(this, n(0));\n    }, function (e, t, n) {\n      (function (e, t) {\n        !function (e, n) {\n          \"use strict\";\n\n          if (!e.setImmediate) {\n            var r,\n              o,\n              i,\n              a,\n              u,\n              c = 1,\n              s = {},\n              l = !1,\n              d = e.document,\n              f = Object.getPrototypeOf && Object.getPrototypeOf(e);\n            f = f && f.setTimeout ? f : e, \"[object process]\" === {}.toString.call(e.process) ? r = function (e) {\n              t.nextTick(function () {\n                h(e);\n              });\n            } : function () {\n              if (e.postMessage && !e.importScripts) {\n                var t = !0,\n                  n = e.onmessage;\n                return e.onmessage = function () {\n                  t = !1;\n                }, e.postMessage(\"\", \"*\"), e.onmessage = n, t;\n              }\n            }() ? (a = \"setImmediate$\" + Math.random() + \"$\", u = function (t) {\n              t.source === e && \"string\" == typeof t.data && 0 === t.data.indexOf(a) && h(+t.data.slice(a.length));\n            }, e.addEventListener ? e.addEventListener(\"message\", u, !1) : e.attachEvent(\"onmessage\", u), r = function (t) {\n              e.postMessage(a + t, \"*\");\n            }) : e.MessageChannel ? ((i = new MessageChannel()).port1.onmessage = function (e) {\n              h(e.data);\n            }, r = function (e) {\n              i.port2.postMessage(e);\n            }) : d && \"onreadystatechange\" in d.createElement(\"script\") ? (o = d.documentElement, r = function (e) {\n              var t = d.createElement(\"script\");\n              t.onreadystatechange = function () {\n                h(e), t.onreadystatechange = null, o.removeChild(t), t = null;\n              }, o.appendChild(t);\n            }) : r = function (e) {\n              setTimeout(h, 0, e);\n            }, f.setImmediate = function (e) {\n              \"function\" != typeof e && (e = new Function(\"\" + e));\n              for (var t = new Array(arguments.length - 1), n = 0; n < t.length; n++) t[n] = arguments[n + 1];\n              var o = {\n                callback: e,\n                args: t\n              };\n              return s[c] = o, r(c), c++;\n            }, f.clearImmediate = p;\n          }\n          function p(e) {\n            delete s[e];\n          }\n          function h(e) {\n            if (l) setTimeout(h, 0, e);else {\n              var t = s[e];\n              if (t) {\n                l = !0;\n                try {\n                  !function (e) {\n                    var t = e.callback,\n                      n = e.args;\n                    switch (n.length) {\n                      case 0:\n                        t();\n                        break;\n                      case 1:\n                        t(n[0]);\n                        break;\n                      case 2:\n                        t(n[0], n[1]);\n                        break;\n                      case 3:\n                        t(n[0], n[1], n[2]);\n                        break;\n                      default:\n                        t.apply(void 0, n);\n                    }\n                  }(t);\n                } finally {\n                  p(e), l = !1;\n                }\n              }\n            }\n          }\n        }(\"undefined\" == typeof self ? void 0 === e ? this : e : self);\n      }).call(this, n(0), n(7));\n    }, function (e, t) {\n      var n,\n        r,\n        o = e.exports = {};\n      function i() {\n        throw new Error(\"setTimeout has not been defined\");\n      }\n      function a() {\n        throw new Error(\"clearTimeout has not been defined\");\n      }\n      function u(e) {\n        if (n === setTimeout) return setTimeout(e, 0);\n        if ((n === i || !n) && setTimeout) return n = setTimeout, setTimeout(e, 0);\n        try {\n          return n(e, 0);\n        } catch (t) {\n          try {\n            return n.call(null, e, 0);\n          } catch (t) {\n            return n.call(this, e, 0);\n          }\n        }\n      }\n      !function () {\n        try {\n          n = \"function\" == typeof setTimeout ? setTimeout : i;\n        } catch (e) {\n          n = i;\n        }\n        try {\n          r = \"function\" == typeof clearTimeout ? clearTimeout : a;\n        } catch (e) {\n          r = a;\n        }\n      }();\n      var c,\n        s = [],\n        l = !1,\n        d = -1;\n      function f() {\n        l && c && (l = !1, c.length ? s = c.concat(s) : d = -1, s.length && p());\n      }\n      function p() {\n        if (!l) {\n          var e = u(f);\n          l = !0;\n          for (var t = s.length; t;) {\n            for (c = s, s = []; ++d < t;) c && c[d].run();\n            d = -1, t = s.length;\n          }\n          c = null, l = !1, function (e) {\n            if (r === clearTimeout) return clearTimeout(e);\n            if ((r === a || !r) && clearTimeout) return r = clearTimeout, clearTimeout(e);\n            try {\n              r(e);\n            } catch (t) {\n              try {\n                return r.call(null, e);\n              } catch (t) {\n                return r.call(this, e);\n              }\n            }\n          }(e);\n        }\n      }\n      function h(e, t) {\n        this.fun = e, this.array = t;\n      }\n      function m() {}\n      o.nextTick = function (e) {\n        var t = new Array(arguments.length - 1);\n        if (arguments.length > 1) for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];\n        s.push(new h(e, t)), 1 !== s.length || l || u(p);\n      }, h.prototype.run = function () {\n        this.fun.apply(null, this.array);\n      }, o.title = \"browser\", o.browser = !0, o.env = {}, o.argv = [], o.version = \"\", o.versions = {}, o.on = m, o.addListener = m, o.once = m, o.off = m, o.removeListener = m, o.removeAllListeners = m, o.emit = m, o.prependListener = m, o.prependOnceListener = m, o.listeners = function (e) {\n        return [];\n      }, o.binding = function (e) {\n        throw new Error(\"process.binding is not supported\");\n      }, o.cwd = function () {\n        return \"/\";\n      }, o.chdir = function (e) {\n        throw new Error(\"process.chdir is not supported\");\n      }, o.umask = function () {\n        return 0;\n      };\n    }, function (e, t, n) {\n      function r(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n        }\n      }\n      var o = n(9);\n      e.exports = function () {\n        function e() {\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, e);\n        }\n        var t, n;\n        return t = e, (n = [{\n          key: \"urlEncode\",\n          value: function (e) {\n            return o(e);\n          }\n        }, {\n          key: \"jsonEncode\",\n          value: function (e) {\n            return JSON.stringify(e);\n          }\n        }, {\n          key: \"formEncode\",\n          value: function (e) {\n            if (this.isFormData(e)) return e;\n            if (this.isFormElement(e)) return new FormData(e);\n            if (this.isObject(e)) {\n              var t = new FormData();\n              return Object.keys(e).forEach(function (n) {\n                var r = e[n];\n                t.append(n, r);\n              }), t;\n            }\n            throw new Error(\"`data` must be an instance of Object, FormData or <FORM> HTMLElement\");\n          }\n        }, {\n          key: \"isObject\",\n          value: function (e) {\n            return \"[object Object]\" === Object.prototype.toString.call(e);\n          }\n        }, {\n          key: \"isFormData\",\n          value: function (e) {\n            return e instanceof FormData;\n          }\n        }, {\n          key: \"isFormElement\",\n          value: function (e) {\n            return e instanceof HTMLFormElement;\n          }\n        }, {\n          key: \"selectFiles\",\n          value: function () {\n            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n            return new Promise(function (t, n) {\n              var r = document.createElement(\"INPUT\");\n              r.type = \"file\", e.multiple && r.setAttribute(\"multiple\", \"multiple\"), e.accept && r.setAttribute(\"accept\", e.accept), r.style.display = \"none\", document.body.appendChild(r), r.addEventListener(\"change\", function (e) {\n                var n = e.target.files;\n                t(n), document.body.removeChild(r);\n              }, !1), r.click();\n            });\n          }\n        }, {\n          key: \"parseHeaders\",\n          value: function (e) {\n            var t = e.trim().split(/[\\r\\n]+/),\n              n = {};\n            return t.forEach(function (e) {\n              var t = e.split(\": \"),\n                r = t.shift(),\n                o = t.join(\": \");\n              r && (n[r] = o);\n            }), n;\n          }\n        }]) && r(t, n), e;\n      }();\n    }, function (e, t) {\n      var n = function (e) {\n          return encodeURIComponent(e).replace(/[!'()*]/g, escape).replace(/%20/g, \"+\");\n        },\n        r = function (e, t, o, i) {\n          return t = t || null, o = o || \"&\", i = i || null, e ? function (e) {\n            for (var t = new Array(), n = 0; n < e.length; n++) e[n] && t.push(e[n]);\n            return t;\n          }(Object.keys(e).map(function (a) {\n            var u,\n              c,\n              s = a;\n            if (i && (s = i + \"[\" + s + \"]\"), \"object\" == typeof e[a] && null !== e[a]) u = r(e[a], null, o, s);else {\n              t && (c = s, s = !isNaN(parseFloat(c)) && isFinite(c) ? t + Number(s) : s);\n              var l = e[a];\n              l = (l = 0 === (l = !1 === (l = !0 === l ? \"1\" : l) ? \"0\" : l) ? \"0\" : l) || \"\", u = n(s) + \"=\" + n(l);\n            }\n            return u;\n          })).join(o).replace(/[!'()*]/g, \"\") : \"\";\n        };\n      e.exports = r;\n    }]);\n  }, function (e, t) {\n    e.exports = function (e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    };\n  }, function (e, t, n) {\n    e.exports = n(10);\n  }, function (e, t) {\n    e.exports = function (e, t) {\n      (null == t || t > e.length) && (t = e.length);\n      for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];\n      return r;\n    };\n  }, function (e, t, n) {\n    var r = n(4);\n    e.exports = function (e, t) {\n      if (e) {\n        if (\"string\" == typeof e) return r(e, t);\n        var n = Object.prototype.toString.call(e).slice(8, -1);\n        return \"Object\" === n && e.constructor && (n = e.constructor.name), \"Map\" === n || \"Set\" === n ? Array.from(n) : \"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? r(e, t) : void 0;\n      }\n    };\n  }, function (e, t) {\n    function n(e, t, n, r, o, i, a) {\n      try {\n        var u = e[i](a),\n          c = u.value;\n      } catch (e) {\n        return void n(e);\n      }\n      u.done ? t(c) : Promise.resolve(c).then(r, o);\n    }\n    e.exports = function (e) {\n      return function () {\n        var t = this,\n          r = arguments;\n        return new Promise(function (o, i) {\n          var a = e.apply(t, r);\n          function u(e) {\n            n(a, o, i, u, c, \"next\", e);\n          }\n          function c(e) {\n            n(a, o, i, u, c, \"throw\", e);\n          }\n          u(void 0);\n        });\n      };\n    };\n  }, function (e, t, n) {\n    var r = n(15),\n      o = n(16),\n      i = n(5),\n      a = n(17);\n    e.exports = function (e) {\n      return r(e) || o(e) || i(e) || a();\n    };\n  }, function (e, t, n) {\n    var r = n(18),\n      o = n(19),\n      i = n(5),\n      a = n(20);\n    e.exports = function (e, t) {\n      return r(e) || o(e, t) || i(e, t) || a();\n    };\n  }, function (e, t, n) {\n    e.exports = n(21);\n  }, function (e, t, n) {\n    var r = function (e) {\n      \"use strict\";\n\n      var t = Object.prototype,\n        n = t.hasOwnProperty,\n        r = \"function\" == typeof Symbol ? Symbol : {},\n        o = r.iterator || \"@@iterator\",\n        i = r.asyncIterator || \"@@asyncIterator\",\n        a = r.toStringTag || \"@@toStringTag\";\n      function u(e, t, n, r) {\n        var o = t && t.prototype instanceof l ? t : l,\n          i = Object.create(o.prototype),\n          a = new _(r || []);\n        return i._invoke = function (e, t, n) {\n          var r = \"suspendedStart\";\n          return function (o, i) {\n            if (\"executing\" === r) throw new Error(\"Generator is already running\");\n            if (\"completed\" === r) {\n              if (\"throw\" === o) throw i;\n              return E();\n            }\n            for (n.method = o, n.arg = i;;) {\n              var a = n.delegate;\n              if (a) {\n                var u = b(a, n);\n                if (u) {\n                  if (u === s) continue;\n                  return u;\n                }\n              }\n              if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n                if (\"suspendedStart\" === r) throw r = \"completed\", n.arg;\n                n.dispatchException(n.arg);\n              } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n              r = \"executing\";\n              var l = c(e, t, n);\n              if (\"normal\" === l.type) {\n                if (r = n.done ? \"completed\" : \"suspendedYield\", l.arg === s) continue;\n                return {\n                  value: l.arg,\n                  done: n.done\n                };\n              }\n              \"throw\" === l.type && (r = \"completed\", n.method = \"throw\", n.arg = l.arg);\n            }\n          };\n        }(e, n, a), i;\n      }\n      function c(e, t, n) {\n        try {\n          return {\n            type: \"normal\",\n            arg: e.call(t, n)\n          };\n        } catch (e) {\n          return {\n            type: \"throw\",\n            arg: e\n          };\n        }\n      }\n      e.wrap = u;\n      var s = {};\n      function l() {}\n      function d() {}\n      function f() {}\n      var p = {};\n      p[o] = function () {\n        return this;\n      };\n      var h = Object.getPrototypeOf,\n        m = h && h(h(x([])));\n      m && m !== t && n.call(m, o) && (p = m);\n      var g = f.prototype = l.prototype = Object.create(p);\n      function y(e) {\n        [\"next\", \"throw\", \"return\"].forEach(function (t) {\n          e[t] = function (e) {\n            return this._invoke(t, e);\n          };\n        });\n      }\n      function v(e, t) {\n        var r;\n        this._invoke = function (o, i) {\n          function a() {\n            return new t(function (r, a) {\n              !function r(o, i, a, u) {\n                var s = c(e[o], e, i);\n                if (\"throw\" !== s.type) {\n                  var l = s.arg,\n                    d = l.value;\n                  return d && \"object\" == typeof d && n.call(d, \"__await\") ? t.resolve(d.__await).then(function (e) {\n                    r(\"next\", e, a, u);\n                  }, function (e) {\n                    r(\"throw\", e, a, u);\n                  }) : t.resolve(d).then(function (e) {\n                    l.value = e, a(l);\n                  }, function (e) {\n                    return r(\"throw\", e, a, u);\n                  });\n                }\n                u(s.arg);\n              }(o, i, r, a);\n            });\n          }\n          return r = r ? r.then(a, a) : a();\n        };\n      }\n      function b(e, t) {\n        var n = e.iterator[t.method];\n        if (void 0 === n) {\n          if (t.delegate = null, \"throw\" === t.method) {\n            if (e.iterator.return && (t.method = \"return\", t.arg = void 0, b(e, t), \"throw\" === t.method)) return s;\n            t.method = \"throw\", t.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n          }\n          return s;\n        }\n        var r = c(n, e.iterator, t.arg);\n        if (\"throw\" === r.type) return t.method = \"throw\", t.arg = r.arg, t.delegate = null, s;\n        var o = r.arg;\n        return o ? o.done ? (t[e.resultName] = o.value, t.next = e.nextLoc, \"return\" !== t.method && (t.method = \"next\", t.arg = void 0), t.delegate = null, s) : o : (t.method = \"throw\", t.arg = new TypeError(\"iterator result is not an object\"), t.delegate = null, s);\n      }\n      function w(e) {\n        var t = {\n          tryLoc: e[0]\n        };\n        1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t);\n      }\n      function k(e) {\n        var t = e.completion || {};\n        t.type = \"normal\", delete t.arg, e.completion = t;\n      }\n      function _(e) {\n        this.tryEntries = [{\n          tryLoc: \"root\"\n        }], e.forEach(w, this), this.reset(!0);\n      }\n      function x(e) {\n        if (e) {\n          var t = e[o];\n          if (t) return t.call(e);\n          if (\"function\" == typeof e.next) return e;\n          if (!isNaN(e.length)) {\n            var r = -1,\n              i = function t() {\n                for (; ++r < e.length;) if (n.call(e, r)) return t.value = e[r], t.done = !1, t;\n                return t.value = void 0, t.done = !0, t;\n              };\n            return i.next = i;\n          }\n        }\n        return {\n          next: E\n        };\n      }\n      function E() {\n        return {\n          value: void 0,\n          done: !0\n        };\n      }\n      return d.prototype = g.constructor = f, f.constructor = d, f[a] = d.displayName = \"GeneratorFunction\", e.isGeneratorFunction = function (e) {\n        var t = \"function\" == typeof e && e.constructor;\n        return !!t && (t === d || \"GeneratorFunction\" === (t.displayName || t.name));\n      }, e.mark = function (e) {\n        return Object.setPrototypeOf ? Object.setPrototypeOf(e, f) : (e.__proto__ = f, a in e || (e[a] = \"GeneratorFunction\")), e.prototype = Object.create(g), e;\n      }, e.awrap = function (e) {\n        return {\n          __await: e\n        };\n      }, y(v.prototype), v.prototype[i] = function () {\n        return this;\n      }, e.AsyncIterator = v, e.async = function (t, n, r, o, i) {\n        void 0 === i && (i = Promise);\n        var a = new v(u(t, n, r, o), i);\n        return e.isGeneratorFunction(n) ? a : a.next().then(function (e) {\n          return e.done ? e.value : a.next();\n        });\n      }, y(g), g[a] = \"Generator\", g[o] = function () {\n        return this;\n      }, g.toString = function () {\n        return \"[object Generator]\";\n      }, e.keys = function (e) {\n        var t = [];\n        for (var n in e) t.push(n);\n        return t.reverse(), function n() {\n          for (; t.length;) {\n            var r = t.pop();\n            if (r in e) return n.value = r, n.done = !1, n;\n          }\n          return n.done = !0, n;\n        };\n      }, e.values = x, _.prototype = {\n        constructor: _,\n        reset: function (e) {\n          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(k), !e) for (var t in this) \"t\" === t.charAt(0) && n.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0);\n        },\n        stop: function () {\n          this.done = !0;\n          var e = this.tryEntries[0].completion;\n          if (\"throw\" === e.type) throw e.arg;\n          return this.rval;\n        },\n        dispatchException: function (e) {\n          if (this.done) throw e;\n          var t = this;\n          function r(n, r) {\n            return a.type = \"throw\", a.arg = e, t.next = n, r && (t.method = \"next\", t.arg = void 0), !!r;\n          }\n          for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n            var i = this.tryEntries[o],\n              a = i.completion;\n            if (\"root\" === i.tryLoc) return r(\"end\");\n            if (i.tryLoc <= this.prev) {\n              var u = n.call(i, \"catchLoc\"),\n                c = n.call(i, \"finallyLoc\");\n              if (u && c) {\n                if (this.prev < i.catchLoc) return r(i.catchLoc, !0);\n                if (this.prev < i.finallyLoc) return r(i.finallyLoc);\n              } else if (u) {\n                if (this.prev < i.catchLoc) return r(i.catchLoc, !0);\n              } else {\n                if (!c) throw new Error(\"try statement without catch or finally\");\n                if (this.prev < i.finallyLoc) return r(i.finallyLoc);\n              }\n            }\n          }\n        },\n        abrupt: function (e, t) {\n          for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n            var o = this.tryEntries[r];\n            if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n              var i = o;\n              break;\n            }\n          }\n          i && (\"break\" === e || \"continue\" === e) && i.tryLoc <= t && t <= i.finallyLoc && (i = null);\n          var a = i ? i.completion : {};\n          return a.type = e, a.arg = t, i ? (this.method = \"next\", this.next = i.finallyLoc, s) : this.complete(a);\n        },\n        complete: function (e, t) {\n          if (\"throw\" === e.type) throw e.arg;\n          return \"break\" === e.type || \"continue\" === e.type ? this.next = e.arg : \"return\" === e.type ? (this.rval = this.arg = e.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === e.type && t && (this.next = t), s;\n        },\n        finish: function (e) {\n          for (var t = this.tryEntries.length - 1; t >= 0; --t) {\n            var n = this.tryEntries[t];\n            if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), k(n), s;\n          }\n        },\n        catch: function (e) {\n          for (var t = this.tryEntries.length - 1; t >= 0; --t) {\n            var n = this.tryEntries[t];\n            if (n.tryLoc === e) {\n              var r = n.completion;\n              if (\"throw\" === r.type) {\n                var o = r.arg;\n                k(n);\n              }\n              return o;\n            }\n          }\n          throw new Error(\"illegal catch attempt\");\n        },\n        delegateYield: function (e, t, n) {\n          return this.delegate = {\n            iterator: x(e),\n            resultName: t,\n            nextLoc: n\n          }, \"next\" === this.method && (this.arg = void 0), s;\n        }\n      }, e;\n    }(e.exports);\n    try {\n      regeneratorRuntime = r;\n    } catch (e) {\n      Function(\"r\", \"regeneratorRuntime = r\")(r);\n    }\n  }, function (e, t, n) {\n    var r = n(12),\n      o = n(13);\n    \"string\" == typeof (o = o.__esModule ? o.default : o) && (o = [[e.i, o, \"\"]]);\n    var i = {\n        insert: \"head\",\n        singleton: !1\n      },\n      a = (r(o, i), o.locals ? o.locals : {});\n    e.exports = a;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r,\n      o = function () {\n        return void 0 === r && (r = Boolean(window && document && document.all && !window.atob)), r;\n      },\n      i = function () {\n        var e = {};\n        return function (t) {\n          if (void 0 === e[t]) {\n            var n = document.querySelector(t);\n            if (window.HTMLIFrameElement && n instanceof window.HTMLIFrameElement) try {\n              n = n.contentDocument.head;\n            } catch (e) {\n              n = null;\n            }\n            e[t] = n;\n          }\n          return e[t];\n        };\n      }(),\n      a = [];\n    function u(e) {\n      for (var t = -1, n = 0; n < a.length; n++) if (a[n].identifier === e) {\n        t = n;\n        break;\n      }\n      return t;\n    }\n    function c(e, t) {\n      for (var n = {}, r = [], o = 0; o < e.length; o++) {\n        var i = e[o],\n          c = t.base ? i[0] + t.base : i[0],\n          s = n[c] || 0,\n          l = \"\".concat(c, \" \").concat(s);\n        n[c] = s + 1;\n        var d = u(l),\n          f = {\n            css: i[1],\n            media: i[2],\n            sourceMap: i[3]\n          };\n        -1 !== d ? (a[d].references++, a[d].updater(f)) : a.push({\n          identifier: l,\n          updater: g(f, t),\n          references: 1\n        }), r.push(l);\n      }\n      return r;\n    }\n    function s(e) {\n      var t = document.createElement(\"style\"),\n        r = e.attributes || {};\n      if (void 0 === r.nonce) {\n        var o = n.nc;\n        o && (r.nonce = o);\n      }\n      if (Object.keys(r).forEach(function (e) {\n        t.setAttribute(e, r[e]);\n      }), \"function\" == typeof e.insert) e.insert(t);else {\n        var a = i(e.insert || \"head\");\n        if (!a) throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n        a.appendChild(t);\n      }\n      return t;\n    }\n    var l,\n      d = (l = [], function (e, t) {\n        return l[e] = t, l.filter(Boolean).join(\"\\n\");\n      });\n    function f(e, t, n, r) {\n      var o = n ? \"\" : r.media ? \"@media \".concat(r.media, \" {\").concat(r.css, \"}\") : r.css;\n      if (e.styleSheet) e.styleSheet.cssText = d(t, o);else {\n        var i = document.createTextNode(o),\n          a = e.childNodes;\n        a[t] && e.removeChild(a[t]), a.length ? e.insertBefore(i, a[t]) : e.appendChild(i);\n      }\n    }\n    function p(e, t, n) {\n      var r = n.css,\n        o = n.media,\n        i = n.sourceMap;\n      if (o ? e.setAttribute(\"media\", o) : e.removeAttribute(\"media\"), i && btoa && (r += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i)))), \" */\")), e.styleSheet) e.styleSheet.cssText = r;else {\n        for (; e.firstChild;) e.removeChild(e.firstChild);\n        e.appendChild(document.createTextNode(r));\n      }\n    }\n    var h = null,\n      m = 0;\n    function g(e, t) {\n      var n, r, o;\n      if (t.singleton) {\n        var i = m++;\n        n = h || (h = s(t)), r = f.bind(null, n, i, !1), o = f.bind(null, n, i, !0);\n      } else n = s(t), r = p.bind(null, n, t), o = function () {\n        !function (e) {\n          if (null === e.parentNode) return !1;\n          e.parentNode.removeChild(e);\n        }(n);\n      };\n      return r(e), function (t) {\n        if (t) {\n          if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap) return;\n          r(e = t);\n        } else o();\n      };\n    }\n    e.exports = function (e, t) {\n      (t = t || {}).singleton || \"boolean\" == typeof t.singleton || (t.singleton = o());\n      var n = c(e = e || [], t);\n      return function (e) {\n        if (e = e || [], \"[object Array]\" === Object.prototype.toString.call(e)) {\n          for (var r = 0; r < n.length; r++) {\n            var o = u(n[r]);\n            a[o].references--;\n          }\n          for (var i = c(e, t), s = 0; s < n.length; s++) {\n            var l = u(n[s]);\n            0 === a[l].references && (a[l].updater(), a.splice(l, 1));\n          }\n          n = i;\n        }\n      };\n    };\n  }, function (e, t, n) {\n    (t = n(14)(!1)).push([e.i, '.image-tool {\\n  --bg-color: #cdd1e0;\\n  --front-color: #388ae5;\\n  --border-color: #e8e8eb;\\n\\n}\\n\\n  .image-tool__image {\\n    border-radius: 3px;\\n    overflow: hidden;\\n    margin-bottom: 10px;\\n  }\\n\\n  .image-tool__image-picture {\\n      max-width: 100%;\\n      vertical-align: bottom;\\n      display: block;\\n    }\\n\\n  .image-tool__image-preloader {\\n      width: 50px;\\n      height: 50px;\\n      border-radius: 50%;\\n      background-size: cover;\\n      margin: auto;\\n      position: relative;\\n      background-color: var(--bg-color);\\n      background-position: center center;\\n    }\\n\\n  .image-tool__image-preloader::after {\\n        content: \"\";\\n        position: absolute;\\n        z-index: 3;\\n        width: 60px;\\n        height: 60px;\\n        border-radius: 50%;\\n        border: 2px solid var(--bg-color);\\n        border-top-color: var(--front-color);\\n        left: 50%;\\n        top: 50%;\\n        margin-top: -30px;\\n        margin-left: -30px;\\n        animation: image-preloader-spin 2s infinite linear;\\n        box-sizing: border-box;\\n      }\\n\\n  .image-tool__caption[contentEditable=\"true\"][data-placeholder]::before {\\n      position: absolute !important;\\n      content: attr(data-placeholder);\\n      color: #707684;\\n      font-weight: normal;\\n      display: none;\\n    }\\n\\n  .image-tool__caption[contentEditable=\"true\"][data-placeholder]:empty::before {\\n        display: block;\\n      }\\n\\n  .image-tool__caption[contentEditable=\"true\"][data-placeholder]:empty:focus::before {\\n        display: none;\\n      }\\n\\n  .image-tool--empty .image-tool__image {\\n      display: none;\\n    }\\n\\n  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {\\n      display: none;\\n    }\\n\\n  .image-tool .cdx-button {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n  }\\n\\n  .image-tool .cdx-button svg {\\n      height: auto;\\n      margin: 0 6px 0 0;\\n    }\\n\\n  .image-tool--filled .cdx-button {\\n      display: none;\\n    }\\n\\n  .image-tool--filled .image-tool__image-preloader {\\n        display: none;\\n      }\\n\\n  .image-tool--loading .image-tool__image {\\n      min-height: 200px;\\n      display: flex;\\n      border: 1px solid var(--border-color);\\n      background-color: #fff;\\n    }\\n\\n  .image-tool--loading .image-tool__image-picture {\\n        display: none;\\n      }\\n\\n  .image-tool--loading .cdx-button {\\n      display: none;\\n    }\\n\\n  /**\\n   * Tunes\\n   * ----------------\\n   */\\n\\n  .image-tool--withBorder .image-tool__image {\\n      border: 1px solid var(--border-color);\\n    }\\n\\n  .image-tool--withBackground .image-tool__image {\\n      padding: 15px;\\n      background: var(--bg-color);\\n    }\\n\\n  .image-tool--withBackground .image-tool__image-picture {\\n        max-width: 60%;\\n        margin: 0 auto;\\n      }\\n\\n  .image-tool--stretched .image-tool__image-picture {\\n        width: 100%;\\n      }\\n\\n@keyframes image-preloader-spin {\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n}\\n', \"\"]), e.exports = t;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    e.exports = function (e) {\n      var t = [];\n      return t.toString = function () {\n        return this.map(function (t) {\n          var n = function (e, t) {\n            var n = e[1] || \"\",\n              r = e[3];\n            if (!r) return n;\n            if (t && \"function\" == typeof btoa) {\n              var o = (a = r, u = btoa(unescape(encodeURIComponent(JSON.stringify(a)))), c = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(u), \"/*# \".concat(c, \" */\")),\n                i = r.sources.map(function (e) {\n                  return \"/*# sourceURL=\".concat(r.sourceRoot || \"\").concat(e, \" */\");\n                });\n              return [n].concat(i).concat([o]).join(\"\\n\");\n            }\n            var a, u, c;\n            return [n].join(\"\\n\");\n          }(t, e);\n          return t[2] ? \"@media \".concat(t[2], \" {\").concat(n, \"}\") : n;\n        }).join(\"\");\n      }, t.i = function (e, n, r) {\n        \"string\" == typeof e && (e = [[null, e, \"\"]]);\n        var o = {};\n        if (r) for (var i = 0; i < this.length; i++) {\n          var a = this[i][0];\n          null != a && (o[a] = !0);\n        }\n        for (var u = 0; u < e.length; u++) {\n          var c = [].concat(e[u]);\n          r && o[c[0]] || (n && (c[2] ? c[2] = \"\".concat(n, \" and \").concat(c[2]) : c[2] = n), t.push(c));\n        }\n      }, t;\n    };\n  }, function (e, t, n) {\n    var r = n(4);\n    e.exports = function (e) {\n      if (Array.isArray(e)) return r(e);\n    };\n  }, function (e, t) {\n    e.exports = function (e) {\n      if (\"undefined\" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e);\n    };\n  }, function (e, t) {\n    e.exports = function () {\n      throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    };\n  }, function (e, t) {\n    e.exports = function (e) {\n      if (Array.isArray(e)) return e;\n    };\n  }, function (e, t) {\n    e.exports = function (e, t) {\n      if (\"undefined\" != typeof Symbol && Symbol.iterator in Object(e)) {\n        var n = [],\n          r = !0,\n          o = !1,\n          i = void 0;\n        try {\n          for (var a, u = e[Symbol.iterator](); !(r = (a = u.next()).done) && (n.push(a.value), !t || n.length !== t); r = !0);\n        } catch (e) {\n          o = !0, i = e;\n        } finally {\n          try {\n            r || null == u.return || u.return();\n          } finally {\n            if (o) throw i;\n          }\n        }\n        return n;\n      }\n    };\n  }, function (e, t) {\n    e.exports = function () {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t), n.d(t, \"default\", function () {\n      return _;\n    });\n    var r = n(3),\n      o = n.n(r),\n      i = n(6),\n      a = n.n(i),\n      u = n(2),\n      c = n.n(u),\n      s = n(0),\n      l = n.n(s);\n    n(11);\n    const d = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13.7778 9.33331H13.7867\"/></svg>';\n    var f = n(7),\n      p = n.n(f);\n    function h(e) {\n      var t,\n        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,\n        r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\n        o = document.createElement(e);\n      Array.isArray(n) ? (t = o.classList).add.apply(t, p()(n)) : n && o.classList.add(n);\n      for (var i in r) o[i] = r[i];\n      return o;\n    }\n    var m = function () {\n        function e(t) {\n          var n = t.api,\n            r = t.config,\n            o = t.onSelectFile,\n            i = t.readOnly;\n          c()(this, e), this.api = n, this.config = r, this.onSelectFile = o, this.readOnly = i, this.nodes = {\n            wrapper: h(\"div\", [this.CSS.baseClass, this.CSS.wrapper]),\n            imageContainer: h(\"div\", [this.CSS.imageContainer]),\n            fileButton: this.createFileButton(),\n            imageEl: void 0,\n            imagePreloader: h(\"div\", this.CSS.imagePreloader),\n            caption: h(\"div\", [this.CSS.input, this.CSS.caption], {\n              contentEditable: !this.readOnly\n            })\n          }, this.nodes.caption.dataset.placeholder = this.config.captionPlaceholder, this.nodes.imageContainer.appendChild(this.nodes.imagePreloader), this.nodes.wrapper.appendChild(this.nodes.imageContainer), this.nodes.wrapper.appendChild(this.nodes.caption), this.nodes.wrapper.appendChild(this.nodes.fileButton);\n        }\n        return l()(e, [{\n          key: \"render\",\n          value: function (t) {\n            return t.file && 0 !== Object.keys(t.file).length ? this.toggleStatus(e.status.UPLOADING) : this.toggleStatus(e.status.EMPTY), this.nodes.wrapper;\n          }\n        }, {\n          key: \"createFileButton\",\n          value: function () {\n            var e = this,\n              t = h(\"div\", [this.CSS.button]);\n            return t.innerHTML = this.config.buttonContent || \"\".concat(d, \" \").concat(this.api.i18n.t(\"Select an Image\")), t.addEventListener(\"click\", function () {\n              e.onSelectFile();\n            }), t;\n          }\n        }, {\n          key: \"showPreloader\",\n          value: function (t) {\n            this.nodes.imagePreloader.style.backgroundImage = \"url(\".concat(t, \")\"), this.toggleStatus(e.status.UPLOADING);\n          }\n        }, {\n          key: \"hidePreloader\",\n          value: function () {\n            this.nodes.imagePreloader.style.backgroundImage = \"\", this.toggleStatus(e.status.EMPTY);\n          }\n        }, {\n          key: \"fillImage\",\n          value: function (t) {\n            var n = this,\n              r = /\\.mp4$/.test(t) ? \"VIDEO\" : \"IMG\",\n              o = {\n                src: t\n              },\n              i = \"load\";\n            \"VIDEO\" === r && (o.autoplay = !0, o.loop = !0, o.muted = !0, o.playsinline = !0, i = \"loadeddata\"), this.nodes.imageEl = h(r, this.CSS.imageEl, o), this.nodes.imageEl.addEventListener(i, function () {\n              n.toggleStatus(e.status.FILLED), n.nodes.imagePreloader && (n.nodes.imagePreloader.style.backgroundImage = \"\");\n            }), this.nodes.imageContainer.appendChild(this.nodes.imageEl);\n          }\n        }, {\n          key: \"fillCaption\",\n          value: function (e) {\n            this.nodes.caption && (this.nodes.caption.innerHTML = e);\n          }\n        }, {\n          key: \"toggleStatus\",\n          value: function (t) {\n            for (var n in e.status) Object.prototype.hasOwnProperty.call(e.status, n) && this.nodes.wrapper.classList.toggle(\"\".concat(this.CSS.wrapper, \"--\").concat(e.status[n]), t === e.status[n]);\n          }\n        }, {\n          key: \"applyTune\",\n          value: function (e, t) {\n            this.nodes.wrapper.classList.toggle(\"\".concat(this.CSS.wrapper, \"--\").concat(e), t);\n          }\n        }, {\n          key: \"CSS\",\n          get: function () {\n            return {\n              baseClass: this.api.styles.block,\n              loading: this.api.styles.loader,\n              input: this.api.styles.input,\n              button: this.api.styles.button,\n              wrapper: \"image-tool\",\n              imageContainer: \"image-tool__image\",\n              imagePreloader: \"image-tool__image-preloader\",\n              imageEl: \"image-tool__image-picture\",\n              caption: \"image-tool__caption\"\n            };\n          }\n        }], [{\n          key: \"status\",\n          get: function () {\n            return {\n              EMPTY: \"empty\",\n              UPLOADING: \"loading\",\n              FILLED: \"filled\"\n            };\n          }\n        }]), e;\n      }(),\n      g = n(8),\n      y = n.n(g),\n      v = n(1),\n      b = n.n(v);\n    function w(e) {\n      return e && \"function\" == typeof e.then;\n    }\n    var k = function () {\n        function e(t) {\n          var n = t.config,\n            r = t.onUpload,\n            o = t.onError;\n          c()(this, e), this.config = n, this.onUpload = r, this.onError = o;\n        }\n        return l()(e, [{\n          key: \"uploadSelectedFile\",\n          value: function (e) {\n            var t = this,\n              n = e.onPreview,\n              r = function (e) {\n                var t = new FileReader();\n                t.readAsDataURL(e), t.onload = function (e) {\n                  n(e.target.result);\n                };\n              };\n            (this.config.uploader && \"function\" == typeof this.config.uploader.uploadByFile ? b.a.selectFiles({\n              accept: this.config.types\n            }).then(function (e) {\n              r(e[0]);\n              var n = t.config.uploader.uploadByFile(e[0]);\n              return w(n) || console.warn(\"Custom uploader method uploadByFile should return a Promise\"), n;\n            }) : b.a.transport({\n              url: this.config.endpoints.byFile,\n              data: this.config.additionalRequestData,\n              accept: this.config.types,\n              headers: this.config.additionalRequestHeaders,\n              beforeSend: function (e) {\n                r(e[0]);\n              },\n              fieldName: this.config.field\n            }).then(function (e) {\n              return e.body;\n            })).then(function (e) {\n              t.onUpload(e);\n            }).catch(function (e) {\n              t.onError(e);\n            });\n          }\n        }, {\n          key: \"uploadByUrl\",\n          value: function (e) {\n            var t,\n              n = this;\n            this.config.uploader && \"function\" == typeof this.config.uploader.uploadByUrl ? w(t = this.config.uploader.uploadByUrl(e)) || console.warn(\"Custom uploader method uploadByUrl should return a Promise\") : t = b.a.post({\n              url: this.config.endpoints.byUrl,\n              data: Object.assign({\n                url: e\n              }, this.config.additionalRequestData),\n              type: b.a.contentType.JSON,\n              headers: this.config.additionalRequestHeaders\n            }).then(function (e) {\n              return e.body;\n            }), t.then(function (e) {\n              n.onUpload(e);\n            }).catch(function (e) {\n              n.onError(e);\n            });\n          }\n        }, {\n          key: \"uploadByFile\",\n          value: function (e, t) {\n            var n,\n              r = this,\n              o = t.onPreview,\n              i = new FileReader();\n            if (i.readAsDataURL(e), i.onload = function (e) {\n              o(e.target.result);\n            }, this.config.uploader && \"function\" == typeof this.config.uploader.uploadByFile) w(n = this.config.uploader.uploadByFile(e)) || console.warn(\"Custom uploader method uploadByFile should return a Promise\");else {\n              var a = new FormData();\n              a.append(this.config.field, e), this.config.additionalRequestData && Object.keys(this.config.additionalRequestData).length && Object.entries(this.config.additionalRequestData).forEach(function (e) {\n                var t = y()(e, 2),\n                  n = t[0],\n                  r = t[1];\n                a.append(n, r);\n              }), n = b.a.post({\n                url: this.config.endpoints.byFile,\n                data: a,\n                type: b.a.contentType.JSON,\n                headers: this.config.additionalRequestHeaders\n              }).then(function (e) {\n                return e.body;\n              });\n            }\n            n.then(function (e) {\n              r.onUpload(e);\n            }).catch(function (e) {\n              r.onError(e);\n            });\n          }\n        }]), e;\n      }(),\n      _ = function () {\n        function e(t) {\n          var n = this,\n            r = t.data,\n            o = t.config,\n            i = t.api,\n            a = t.readOnly;\n          c()(this, e), this.api = i, this.readOnly = a, this.config = {\n            endpoints: o.endpoints || \"\",\n            additionalRequestData: o.additionalRequestData || {},\n            additionalRequestHeaders: o.additionalRequestHeaders || {},\n            field: o.field || \"image\",\n            types: o.types || \"image/*\",\n            captionPlaceholder: this.api.i18n.t(o.captionPlaceholder || \"Caption\"),\n            buttonContent: o.buttonContent || \"\",\n            uploader: o.uploader || void 0,\n            actions: o.actions || []\n          }, this.uploader = new k({\n            config: this.config,\n            onUpload: function (e) {\n              return n.onUpload(e);\n            },\n            onError: function (e) {\n              return n.uploadingFailed(e);\n            }\n          }), this.ui = new m({\n            api: i,\n            config: this.config,\n            onSelectFile: function () {\n              n.uploader.uploadSelectedFile({\n                onPreview: function (e) {\n                  n.ui.showPreloader(e);\n                }\n              });\n            },\n            readOnly: a\n          }), this._data = {}, this.data = r;\n        }\n        var t;\n        return l()(e, null, [{\n          key: \"isReadOnlySupported\",\n          get: function () {\n            return !0;\n          }\n        }, {\n          key: \"toolbox\",\n          get: function () {\n            return {\n              icon: d,\n              title: \"Image\"\n            };\n          }\n        }, {\n          key: \"tunes\",\n          get: function () {\n            return [{\n              name: \"withBorder\",\n              icon: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.9919 9.5H19.0015\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.5 5H14.5096\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.3725 5H9.38207\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 9.5H5.00957\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.3725 19H9.38207\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 14.55H5.00957\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 13V16M16 19V16M19 16H16M16 16H13\"/></svg>',\n              title: \"With border\",\n              toggle: !0\n            }, {\n              name: \"stretched\",\n              icon: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 9L20 12L17 15\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14 12H20\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 9L4 12L7 15\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 12H10\"/></svg>',\n              title: \"Stretch image\",\n              toggle: !0\n            }, {\n              name: \"withBackground\",\n              icon: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 13V16M16 19V16M19 16H16M16 16H13\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6.5 17.5L17.5 6.5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.9919 10.5H19.0015\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.9919 19H11.0015\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13L13 5\"/></svg>',\n              title: \"With background\",\n              toggle: !0\n            }];\n          }\n        }]), l()(e, [{\n          key: \"render\",\n          value: function () {\n            return this.ui.render(this.data);\n          }\n        }, {\n          key: \"validate\",\n          value: function (e) {\n            return e.file && e.file.url;\n          }\n        }, {\n          key: \"save\",\n          value: function () {\n            var e = this.ui.nodes.caption;\n            return this._data.caption = e.innerHTML, this.data;\n          }\n        }, {\n          key: \"renderSettings\",\n          value: function () {\n            var t = this;\n            return e.tunes.concat(this.config.actions).map(function (e) {\n              return {\n                icon: e.icon,\n                label: t.api.i18n.t(e.title),\n                name: e.name,\n                toggle: e.toggle,\n                isActive: t.data[e.name],\n                onActivate: function () {\n                  \"function\" != typeof e.action ? t.tuneToggled(e.name) : e.action(e.name);\n                }\n              };\n            });\n          }\n        }, {\n          key: \"appendCallback\",\n          value: function () {\n            this.ui.nodes.fileButton.click();\n          }\n        }, {\n          key: \"onPaste\",\n          value: (t = a()(o.a.mark(function e(t) {\n            var n, r, i, a, u;\n            return o.a.wrap(function (e) {\n              for (;;) switch (e.prev = e.next) {\n                case 0:\n                  e.t0 = t.type, e.next = \"tag\" === e.t0 ? 3 : \"pattern\" === e.t0 ? 15 : \"file\" === e.t0 ? 18 : 21;\n                  break;\n                case 3:\n                  if (n = t.detail.data, !/^blob:/.test(n.src)) {\n                    e.next = 13;\n                    break;\n                  }\n                  return e.next = 7, fetch(n.src);\n                case 7:\n                  return r = e.sent, e.next = 10, r.blob();\n                case 10:\n                  return i = e.sent, this.uploadFile(i), e.abrupt(\"break\", 21);\n                case 13:\n                  return this.uploadUrl(n.src), e.abrupt(\"break\", 21);\n                case 15:\n                  return a = t.detail.data, this.uploadUrl(a), e.abrupt(\"break\", 21);\n                case 18:\n                  return u = t.detail.file, this.uploadFile(u), e.abrupt(\"break\", 21);\n                case 21:\n                case \"end\":\n                  return e.stop();\n              }\n            }, e, this);\n          })), function (e) {\n            return t.apply(this, arguments);\n          })\n        }, {\n          key: \"onUpload\",\n          value: function (e) {\n            e.success && e.file ? this.image = e.file : this.uploadingFailed(\"incorrect response: \" + JSON.stringify(e));\n          }\n        }, {\n          key: \"uploadingFailed\",\n          value: function (e) {\n            console.log(\"Image Tool: uploading failed because of\", e), this.api.notifier.show({\n              message: this.api.i18n.t(\"Couldn’t upload image. Please try another.\"),\n              style: \"error\"\n            }), this.ui.hidePreloader();\n          }\n        }, {\n          key: \"tuneToggled\",\n          value: function (e) {\n            this.setTune(e, !this._data[e]);\n          }\n        }, {\n          key: \"setTune\",\n          value: function (e, t) {\n            var n = this;\n            this._data[e] = t, this.ui.applyTune(e, t), \"stretched\" === e && Promise.resolve().then(function () {\n              var e = n.api.blocks.getCurrentBlockIndex();\n              n.api.blocks.stretchBlock(e, t);\n            }).catch(function (e) {\n              console.error(e);\n            });\n          }\n        }, {\n          key: \"uploadFile\",\n          value: function (e) {\n            var t = this;\n            this.uploader.uploadByFile(e, {\n              onPreview: function (e) {\n                t.ui.showPreloader(e);\n              }\n            });\n          }\n        }, {\n          key: \"uploadUrl\",\n          value: function (e) {\n            this.ui.showPreloader(e), this.uploader.uploadByUrl(e);\n          }\n        }, {\n          key: \"data\",\n          set: function (t) {\n            var n = this;\n            this.image = t.file, this._data.caption = t.caption || \"\", this.ui.fillCaption(this._data.caption), e.tunes.forEach(function (e) {\n              var r = e.name,\n                o = void 0 !== t[r] && (!0 === t[r] || \"true\" === t[r]);\n              n.setTune(r, o);\n            });\n          },\n          get: function () {\n            return this._data;\n          }\n        }, {\n          key: \"image\",\n          set: function (e) {\n            this._data.file = e || {}, e && e.url && this.ui.fillImage(e.url);\n          }\n        }], [{\n          key: \"pasteConfig\",\n          get: function () {\n            return {\n              tags: [{\n                img: {\n                  src: !0\n                }\n              }],\n              patterns: {\n                image: /https?:\\/\\/\\S+\\.(gif|jpe?g|tiff|png|svg|webp)(\\?[a-z0-9=]*)?$/i\n              },\n              files: {\n                mimeTypes: [\"image/*\"]\n              }\n            };\n          }\n        }]), e;\n      }();\n    /**\n     * Image Tool for the Editor.js\n     *\n     * @author CodeX <team@codex.so>\n     * @license MIT\n     * @see {@link https://github.com/editor-js/image}\n     *\n     * To developers.\n     * To simplify Tool structure, we split it to 4 parts:\n     *  1) index.js — main Tool's interface, public API and methods for working with data\n     *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting\n     *  3) ui.js — module for UI manipulations: render, showing preloader, etc\n     *  4) tunes.js — working with Block Tunes: render buttons, handle clicks\n     *\n     * For debug purposes there is a testing server\n     * that can save uploaded files and return a Response {@link UploadResponseFormat}\n     *\n     *       $ node dev/server.js\n     *\n     * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:\n     *\n     * image: {\n     *   class: ImageTool,\n     *   config: {\n     *     endpoints: {\n     *       byFile: 'http://localhost:8008/uploadFile',\n     *       byUrl: 'http://localhost:8008/fetchUrl',\n     *     }\n     *   },\n     * },\n     */\n  }]).default;\n});","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}