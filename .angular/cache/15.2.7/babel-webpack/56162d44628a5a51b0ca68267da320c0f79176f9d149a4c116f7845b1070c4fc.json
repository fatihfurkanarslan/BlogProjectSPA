{"ast":null,"code":"import _defineProperty from \"C:/Users/Fatih Furkan Arslan/Desktop/Github/BlogProject-SPA/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { NoteService } from '../services/note.service';\nimport { ActivatedRoute } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/note.service\";\nimport * as i2 from \"@angular/router\";\nfunction HomeComponent_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelement(1, \"app-note-card\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const note_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"note\", note_r2);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/note\", a1];\n};\nfunction HomeComponent_li_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 9);\n    i0.ɵɵpipe(1, \"slice\");\n    i0.ɵɵelement(2, \"app-popular-notes\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const note_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind3(1, 2, i0.ɵɵpureFunction1(6, _c0, note_r3.id), 0, 4));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"note\", note_r3);\n  }\n}\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(noteService, route) {\n      _defineProperty(this, \"noteService\", void 0);\n      _defineProperty(this, \"route\", void 0);\n      _defineProperty(this, \"notes\", []);\n      _defineProperty(this, \"popularNotes\", []);\n      _defineProperty(this, \"pageNumber\", 1);\n      this.noteService = noteService;\n      this.route = route;\n    }\n    ngOnInit() {\n      // this.route.data.subscribe(data => {\n      //   this.notes = data['notes'];\n      // });\n      this.getNotes();\n      this.getPopularNotes();\n    }\n    getNotes() {\n      this.noteService.getNotesWithScroll(this.pageNumber).subscribe(result => {\n        this.onSuccess(result);\n      }, error => console.log(error));\n    }\n    getPopularNotes() {\n      this.noteService.getPopularNotes().subscribe(result => {\n        this.popularNotes = result;\n      }, error => console.log(error));\n    }\n    onSuccess(result) {\n      if (result !== undefined && result.length !== 0) {\n        result.forEach(item => {\n          if (item.isDraft === false) {\n            this.notes.push(item);\n          }\n        });\n      }\n    }\n    onScroll() {\n      this.pageNumber = this.pageNumber + 1;\n      this.getNotes();\n    }\n  }\n  _defineProperty(HomeComponent, \"\\u0275fac\", function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.NoteService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  });\n  _defineProperty(HomeComponent, \"\\u0275cmp\", /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 12,\n    vars: 4,\n    consts: [[1, \"row\"], [\"infinite-scroll\", \"\", 1, \"col-lg-9\", \"col-12\", 3, \"infiniteScrollDistance\", \"infiniteScrollThrottle\", \"scrolled\"], [2, \"text-align\", \"left\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-lg-3\"], [1, \"popularonblog\"], [1, \"populartitle\"], [\"routerLinkActive\", \"active\", 3, \"routerLink\", 4, \"ngFor\", \"ngForOf\"], [3, \"note\"], [\"routerLinkActive\", \"active\", 3, \"routerLink\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-category\");\n        i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1);\n        i0.ɵɵlistener(\"scrolled\", function HomeComponent_Template_div_scrolled_2_listener() {\n          return ctx.onScroll();\n        });\n        i0.ɵɵelementStart(3, \"ul\", 2);\n        i0.ɵɵtemplate(4, HomeComponent_li_4_Template, 2, 1, \"li\", 3);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"div\", 4)(6, \"div\", 5)(7, \"p\", 6);\n        i0.ɵɵtext(8, \"Popular on ArticlesOrigin\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"hr\");\n        i0.ɵɵelementStart(10, \"ul\");\n        i0.ɵɵtemplate(11, HomeComponent_li_11_Template, 3, 8, \"li\", 7);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"infiniteScrollDistance\", 1)(\"infiniteScrollThrottle\", 100);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.notes);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.popularNotes);\n      }\n    },\n    styles: [\"ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}li[_ngcontent-%COMP%]{margin-bottom:10px;cursor:pointer}.popularonblog[_ngcontent-%COMP%]{position:fixed;margin-right:12%}.sidebar-item[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.make-me-sticky[_ngcontent-%COMP%]{position:sticky;top:0;padding:0}hr[_ngcontent-%COMP%]{font-weight:700}.populartitle[_ngcontent-%COMP%]{padding-top:5px;text-align:center}\"]\n  }));\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}